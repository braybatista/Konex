CREATE TABLE K_MEDICAMENTOS(
  M_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
  M_NOMBRE varchar2(45) NOT NULL,
  M_LABORATORIO varchar2(45) NOT NULL,
  M_FECHA_FABRICACION TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  M_FECHA_VENCIMIENTO TIMESTAMP NOT NULL,
  M_STOCK NUMBER(10, 0) DEFAULT 0,
  M_VALOR_UNITARIO NUMBER(10, 2) DEFAULT 0,
  PRIMARY KEY (M_ID)
);

CREATE TABLE K_VENTAS(
  V_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
  V_FECHA_TRANSACCION DATE DEFAULT CURRENT_TIMESTAMP,
  V_MEDICAMENTO NUMBER NOT NULL,
  V_CANTIDAD varchar2(30) NOT NULL,
  V_VALOR_UNITARIO NUMBER(10, 2),
  V_VALOR_TOTAL NUMBER(10, 2)
);

ALTER TABLE K_VENTAS
  ADD CONSTRAINT V_FK_MEDICAMENTO
  FOREIGN KEY (V_MEDICAMENTO)
  REFERENCES K_MEDICAMENTOS (M_ID);

commit;